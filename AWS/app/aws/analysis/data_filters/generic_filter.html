<div class="panel-body">
	
	<ul class="input-controls" style="height:100%">
		<div ng-show="addSecond">
			<input type="checkbox" ng-model="nest"> Nest</input>
		</div>
		<div ng-show="!addSecond">
			<input type="checkbox" ng-model="addSecond"> Add Second Level</input>
		</div>
		<div style="height:95%" ng-show='!nest'>
			<div style="height:40%">
				<select style="width: 100%" ui-select2="{allowClear:true}"
						ng-model="queryService.queryObject.filters.or[$parent.$index]"
						data-placeholder="Column"
						ng-click=getFilter(queryService.queryObject.filters.or[$parent.$index].id)>
						<option></option>
						<option value="{{col}}" ng-repeat="col in queryService.dataObject.columns"> {{col.title}}</option>
				</select>
				
				<div  ng-if="filterType == 'continuous'" style="padding-top: 5px">
					{{ service.queryObject.ByVariableFilters[$index][0] }} - {{ service.queryObject.ByVariableFilters[$index][1] }}
		 			<div ui-slider="service.dataObject.filterOptions[$index]" ng-model="service.queryObject.ByVariableFilters[$index]"></div>
				</div>
			
				<div ng-if="filterType == 'categorical'" >
		 			<select ui-select2 multiple ng-model="service.queryObject.ByVariableFilters[$index]" data-placeholder="Choose Filter(s)" style="width:100%">
		 				<option value="{{cat}}" ng-repeat="cat in service.dataObject.filterOptions[$index]">{{cat.label}}</option>
		 			</select>
				</div>
			
			</div>
			
			<div ng-if="addSecond" style="text-align: center">
					AND
			</div>
			
			<div ng-if="addSecond" style = "height:40%">
					
				<select style="width: 100%" ui-select2="{allowClear:true}"
					ng-model="queryService.queryObject.filters.or[$parent.$index]"
					data-placeholder="Column"
					ng-click=getFilter(queryService.queryObject.filters.or[$parent.$index].id)>
					<option></option>
					<option value="{{col}}" ng-repeat="col in queryService.dataObject.columns"> {{col.title}}</option>
				</select>
				
				<div  ng-if="filterType == 'continuous'" style="padding-top: 5px">
					{{ service.queryObject.ByVariableFilters[$index][0] }} - {{ service.queryObject.ByVariableFilters[$index][1] }}
	 				<div ui-slider="service.dataObject.filterOptions[$index]" ng-model="service.queryObject.ByVariableFilters[$index]"></div>
				</div>
		
				<div ng-if="filterType == 'categorical'" >
	 				<select ui-select2 multiple ng-model="service.queryObject.ByVariableFilters[$index]" data-placeholder="Choose Filter(s)" style="width:100%">
	 					<option value="{{cat}}" ng-repeat="cat in service.dataObject.filterOptions[$index]">{{cat.label}}</option>
	 				</select>
				</div>
			</div>
		</div>
		<div style="height:95%" ng-show='nest'>
			<select style="width: 100%" ui-select2="{allowClear:true}"
						ng-model="queryService.queryObject.filters.or[$parent.$index]"
						data-placeholder="Column"
						ng-click=getFilter(queryService.queryObject.filters.or[$parent.$index].id)>
						<option></option>
						<option value="{{col}}" ng-repeat="col in queryService.dataObject.columns"> {{col.title}}</option>
			</select>
			<select style="width: 100%" ui-select2="{allowClear:true}"
					ng-model="queryService.queryObject.filters.or[$parent.$index]"
					data-placeholder="Column"
					ng-click=getFilter(queryService.queryObject.filters.or[$parent.$index].id)>
					<option></option>
					<option value="{{col}}" ng-repeat="col in queryService.dataObject.columns"> {{col.title}}</option>
			</select>
			
     		<div id="tree" dynatree style="width: 100%; height: 175px; overflow: hidden"></div><!-- The actual hierarchy of tables and their columns -->
		
		</div>
	</ul>
</div>
