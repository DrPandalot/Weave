<!doctype html>
<html lang="en" ng-app="aws">
	<head> 
		<meta charset="utf-8">
		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Analyst Work Station</title>

		<link href="lib/bootstrap/bootstrap.min.css" rel="stylesheet">

		<link rel='stylesheet' href="lib/jsoneditor/jsoneditor.css"/>
		<link rel="stylesheet" href="lib/angular-motion/angular-motion.min.css">
		<link href="lib/ng-grid/ng-grid.css" rel="stylesheet" type="text/css"/>
		<link rel="stylesheet" href="css/bootstrap-duallistbox.css"/>

		<link rel='stylesheet' href="css/bootstrap-addition.css"/>
		<link rel="stylesheet" href="css/app.css">
		<link rel="stylesheet" href="css/cutdown.css">
		<link rel="stylesheet" href="lib/ui-select2/select2.css">
		<link rel="stylesheet" href="lib/chosen/chosen.css">
		<link rel="stylesheet" href="lib/chosen/chosen-spinner.css">
		<link rel="stylesheet" href="lib/dynatree/ui.dynatree.css"/>
		<link rel="stylesheet" href="lib/jquery-ui/ui-lightness/jquery-ui-1.10.3.custom.css" />
		<link rel="stylesheet" href="css/projects.css"/>
		<link rel="stylesheet" href="css/script_managemnt.css" />
		<link rel="stylesheet" href="css/app-old.css" />
		<link rel="stylesheet" href="css/modal.css"/>
		
	</head>

	<body>


		<div style="height: 100%;" ng-controller="AWSController">

					<header id ="header">
				<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
					<div class="collapse navbar-collapse navbar-ex1-collapse">

						<a class="navbar-brand" href="index.html"> <i class="glyphicon glyphicon glyphicon-tasks img-responsive"></i> <span class = "logo">Weave Analyst </span> </a>

						<button type="button" class="navbar-toggle btn-danger" data-toggle="collapse" data-target="#navbar-to-collapse">
							<span class="sr-only">Toggle right menu</span>

						</button>

						<!--The main navbar-->

						<ul class="nev" >
							<li ng-class="{active: $route.current.activetab == 'metadata'}">
								<a href="#/metadata">Metadata</a>
							</li>
							<li ng-class="{active: $route.current.activetab == 'script_management'}">
								<a href="#/script_management">Scripts</a>
							</li>
							<li ng-class="{active: $route.current.activetab == 'analysis'}">
								<a href="#/analysis">Analysis</a>
							</li>
							<li ng-class="{active: $route.current.activetab == 'project_management'}">
								<a href="#/project_management">Projects</a>
							</li>
<!-- 							<li ng-class = "{actibe : $route.current.activetab == 'output_view'}"> -->
<!-- 							<a href="#/output_view">Output</a> -->
<!-- 							</li> -->

							</ul>
						
						
						<!--The right navbar -->
						<!--Disabling for the release.  This is the login and settings dropdowns
						<ul class="nav navbar-nav navbar-right">
						<li class="dropdown">

						<a href="javscript:;" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon-cog"></i> Settings <b class="caret"></b> </a>

						<ul class="dropdown-menu">
						<li>
						<a href="./account.html">Database Configuration</a>
						</li>
						<li>
						<a href="javascript:;">Save Configuration</a>
						</li>
						</ul>

						</li>

						<li class="dropdown">

						<a href="javscript:;" class="dropdown-toggle" data-toggle="dropdown"> <i class="icon-user"></i> John Doe <b class="caret"></b> </a>

						<ul class="dropdown-menu">
						<li>
						<a href="javascript:;">Profile</a>
						</li>
						<li class="divider"></li>
						<li>
						<a href="javascript:;">Sign out</a>
						</li>
						</ul>

						</li>
						</ul>-->
						<font color="white">Release Version 0.6 - 08/15/2014</font>
						
						<button class="btn btn-primary" 
								style="width: 10%; float:right; margin-top: 10px; margin-right : 75px"
								ng-click="runService.run(true)" 
								ng-controller="QueryHandlerCtrl">
								 <span style="vertical-align: right">Run</span>
						 </button>
<!-- 						 <div ng-controller = DialogController> -->
<!-- 							<a href="javascript:void(0);" class="btn btn-primary run-btn" style="font-size: 17px; padding: 2px 5px; width: 10%; margin-top: 10px;" ng-click="saveVisualizations()"> <span style="vertical-align: middle">Save output visuals</span> </a> -->
<!-- 						</div> -->
<!-- 						<div style="display: table ; width : 10%; padding-top : 5px"> -->
<!-- 							<a href="javascript:void(0);" class="btn btn-default" style="display : table-cell;font-size: 17px; padding: 2px 5px; width : 33.3%; margin-top: 10px;"> <span style="vertical-align: middle" ng-click = "clearSessionState()">Clear</span></a> -->
<!-- 						</div> -->
						
						<div ng-if="authenticationService.authenticated">
							<font color="white">Signed in as: {{authenticationService.user}}</font>
						</div>
					</div><!-- /.navbar-collapse -->
					
				</nav>
				
			</header>

			<div style="height: 100%" class = "tab-container" >
				<div ng-view style="height: 100%">

				</div>

			</div>
			
			<footer>
			<!-- modal error log -->
			<div style = "margin-left: 50%; position: fixed; bottom: 0; width: 100%;" ng-controller = "analystErrorLogCtrl">
					<button id = "errorLog" type="button" class="btn btn-sm new-project-button" data-animation="am-slide-bottom"
					 ng-click = "openErrorLog()">
							Open Error Log
					</button>
			</div>
			<!-- panel error log -->
<!-- 				<div style = "margin-left: 50%; position: fixed; bottom: 0; width: 100%;" ng-controller = "analystErrorLogCtrl" > -->
<!-- 					<button id = "errorLog" type="button" class="btn btn-sm new-project-button" data-animation="am-slide-bottom" -->
<!-- 					 ng-click = "errorLogService.showErrorLog = true"> -->
<!-- 							Open Error Log -->
<!-- 					</button> -->
<!-- 				</div> -->
<!-- 				<div ng-include src="'aws/errorLog/analystErrorLog.html'"></div> -->
				
			</footer>
		</div>

		<!-- JQuery Libraries -->
		<script src="lib/jquery/jquery 2_1_0.js"></script>
		<script src='lib/jquery-ui/jquery-ui.js'></script>
		<script src="lib/ui-select2/select2.js"></script>
		<script src='lib/dynatree/jquery.dynatree.js'></script>
		<script src="lib/file-reader/jquery.FileReader.js" type="text/javascript"></script>

		<!--        Third Party Libraries-->
		<script src="lib/jsoneditor/jsoneditor.js"></script>
		<script src='lib/swfobject.js'></script>
		<script src="lib/FileSaver.min.js" type="text/javascript"></script>
		<script src="lib/bootstrap/bootstrap.min.js"></script>
		<!-- Libraries not listed in Amith's code -->
		<!--<script src='lib/jquery/jquery.bootstrap-duallistbox.js'></script>-->
		<!--Angular Libraries-->
		<script src="lib/angular/1.2/angular.min.js"></script>
		<script src="lib/ui.bootstrap/ui-bootstrap-tpls-0.11.0.js"></script>
		<!--Unsure if we use this-->
		<script src='lib/angular/1.2/angular-resource.min.js'></script>
		<script src="lib/angular/1.2/angular-route.min.js" type="text/javascript"></script>
		<script src="lib/angular/1.2/angular-sanitize.min.js" type="text/javascript"></script>
		<script src="lib/angular/1.2/angular-animate.min.js" type="text/javascript"></script>
		
		<script src="lib/angularstrap/angular-strap-2-0-0-rc4.js" type="text/javascript"></script>
		<script src="lib/angularstrap//angular-strap.tpl.min.js"></script>
		<script src="lib/ui-select2/angular-ui-select2.js"></script>

		<script src="lib/angular-masonry/masonry.js" type="text/javascript"></script>
		<script src="lib/imagesloaded/imagesloaded.js" type="text/javascript"></script>
		<script src="lib/angular-masonry/angular-masonry.js" type="text/javascript"></script>

		<script src="lib/editablespan/mk-editable-span.js" type="text/javascript"></script>
		<script src="lib/ng-grid/ng-grid.min.js" type="text/javascript"></script>

		<script src='lib/ui-slider/slider.js'></script>
		<script src='lib/ui-sortable/ui-sortable.js'></script>
		

		<script src='aws/app.js'></script>
		<script src="lib/chosen/chosen.jquery.js"></script>
		<script src="lib/chosen/chosen.js"></script>

		<!--<script src='aws/app/router.js'></script>-->

		<script src='aws/directive/dual-list-box-directive.js'></script>
		<script src='aws/directive/file-upload-directive.js'></script>

		<!--<script src='aws/app/panel-directive.js'></script>-->

		<script src="aws/analysis/analysis.js"></script>
		<script src="aws/analysis/dialogCtrl.js"></script>

		<script src='aws/configure/auth/authenticationService.js'></script>
		<script src='aws/configure/metadata/MetadataManagerCtrl.js'></script>
		<script src='aws/configure/metadata/metadataManagerService.js'></script>
		<script src='aws/configure/script/ScriptManagerCtrl.js'></script>
		<script src='aws/configure/script/scriptManagerService.js'></script>
		<script src='aws/queryObjectEditor/QueryObjectEditorCtrl.js'></script>
		<script src='aws/queryObjectEditor/query-Object-Editor-directive.js'></script>
		<script src='aws/queryObject/QueryImportExportCtrl.js'></script>
		<script src='aws/errorLog/errorLogCtrl.js'></script>
		<script src='aws/queryObject/queryObjectService.js'></script>
		<script src='aws/project/ProjectManagementCtrl.js'></script>
		<script src='aws/project/projectAdditionController.js'></script>
		<script src='aws/project/project-query-button-directive.js'></script>
		<script src='aws/project/projectService.js'></script>
		<script src="aws/visualization/tools/barChart/barChartCtrl.js"></script>
		<script src="aws/analysis/data_filters/dataFilterCtrl.js"></script>
		<script src="aws/analysis/data_filters/geographyCtrl.js"></script>
		<script src="aws/analysis/data_filters/timePeriodCtrl.js"></script>
		<script src="aws/analysis/data_filters/byVariableCtrl.js"></script>
		<script src="aws/visualization/weave/QueryHandler.js"></script>
		<script src="aws/visualization/weave/WeaveModule.js"></script>
		<script src="aws/visualization/tools/toolsCtrl.js"></script>
		<script src="aws/visualization/tools/barChart/barChartCtrl.js"></script>
		<script src="aws/visualization/tools/dataTable/dataTableCtrl.js"></script>
		<script src="aws/visualization/tools/mapChart/mapChartCtrl.js"></script>
		<script src="aws/visualization/tools/scatterPlot/scatterPlotCtrl.js"></script>
		<script src="aws/visualization/tools/color/colorCtrl.js"></script>
		
		<script type="text/javascript" src="/swfobject.js"></script>
        <script type="text/javascript">
        		var loadFlashContent = function() {
        			var swfVersionStr = "10.2.0";
		            // To use express install, set to playerProductInstall.swf, otherwise the empty string. 
		            var xiSwfUrlStr = "playerProductInstall.swf";
		            var flashvars = {};
		            var params = {};
		            params.quality = "high";
		            params.bgcolor = "#869ca7";
		            params.allowscriptaccess = "sameDomain";
		            params.allowfullscreen = "true";
		            params.base = window.location.protocol+"//"+window.location.host;
		            var attributes = {};
		            attributes.id = "weave";
		            attributes.name = "weave";
		            attributes.align = "middle";
		            swfobject.embedSWF(
		                "/weave.swf", "flashContent", 
		                "60%", "800px", 
		                swfVersionStr, xiSwfUrlStr, 
		                flashvars, params, attributes);
		            // JavaScript enabled so display the flashContent div in case it is not replaced with a swf object.
		            swfobject.createCSS("#flashContent", "display:block;text-align:left;");
        		};
	            $('#flashContent').ready(function() {
	            	setTimeout(loadFlashContent, 100);
	            });
        </script>
	</body>

</html>
