<html>
<script src="lib/jquery/jquery.js"></script>
<script src="aws.js"></script>
<body>
This page intends to demonstrate the decoupling of the AWS Library from any particular UI.<br>
Use the file picker to select a local Query Object JSON file. Click ""Run" to upload the JSON file
and send the query to R. When the data returns it will automatically be loaded into Weave using the 
visualization parameters in the uploaded JSON file.


	<input type="file" name="query" />
	<div id="file"></div>
	<button id="run">Run</button>


<script>

$('#run').click(function(){
	
    	var files = $('input');
    	var file = files[0].files[0];           
        var reader = new FileReader();
        var obj;
        reader.onload = function(e) {
          $('#file').html(e.target.result);
          obj = $.parseJSON(e.target.result);
          console.log($.parseJSON(e.target.result));
        }
        reader.readAsText(file)
	
        aws.QueryHandler.run(obj);
 });


</script>
</body>
</html>